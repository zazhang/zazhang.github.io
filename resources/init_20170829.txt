;; 20170829

;; Set font size, 1 = 0.01pt, 160 = 16pt
(set-face-attribute 'default (selected-frame) :height 220)


;; Set visual line mode
(global-visual-line-mode t)


;Start with full screen
(set-frame-parameter nil 'fullscreen 'fullboth)
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(custom-enabled-themes (quote (solarized-dark)))
 '(custom-safe-themes (quote ("cd8176f5688f9a0086d5bc2cacca3c7c2b56808bceafc9df2eb2c2f45f97cea6" "9f49f84074358480cebd63d3dd9a301836c77622816f69cc2a1e5e1fd70b6073" "1e7e097ec8cb1f8c3a912d7e1e0331caeed49fef6cff220be63bd2a6ba4cc365" "fc5fcb6f1f1c1bc01305694c59a1a861b008c534cae8d0e48e4d5e81ad718bc6" default)))
 '(py-split-windows-on-execute-function (quote split-window-horizontally))
 '(py-switch-buffers-on-execute-p nil))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )


;; solarized theme
;(add-to-list 'load-path "~/.emacs.d/plugins/emacs-color-theme-solarized")
;(if
;    (equal 0 (string-match "^24" emacs-version))
;    ;; it's emacs24, so use built-in theme 
;    (require 'solarized-dark-theme)
;  ;; it's NOT emacs24, so use color-theme
;  (progn
;    (require 'color-theme)
;    (color-theme-initialize)
;    (require 'color-theme-solarized)
;    (color-theme-solarized-dark)))


;; monokai theme
(add-to-list 'custom-theme-load-path "~/.emacs.d/plugins/monokai-theme")
(load-theme 'monokai t)


;; package manager
(require 'package)
(add-to-list 'package-archives
             '("melpa" . "http://melpa.org/packages/") t)
;(add-to-list 'package-archives
;             '("melpa" . "https://melpa.org/packages/") t) ;; Sometimes, "https" just doesn't work, try "http"
(when (< emacs-major-version 24)
  ;; For important compatibility libraries like cl-lib
  (add-to-list 'package-archives '("gnu" . "https://elpa.gnu.org/packages/")))
(package-initialize)


;; Auto-complete
(add-to-list 'load-path "~/.emacs.d/plugins/auto-complete-1.3.1")
(require 'auto-complete)
(add-to-list 'ac-dictionary-directories "~/.emacs.d/ac-dict")
(require 'auto-complete-config)
(ac-config-default)
(global-auto-complete-mode t)


;; column-indicator
(add-to-list 'load-path "~/.emacs.d/plugins/fill-column-indicator-1.83")
(require 'fill-column-indicator)
(define-globalized-minor-mode
 global-fci-mode fci-mode (lambda () (fci-mode 1)))
(global-fci-mode t)


;; markdown-mode
(autoload 'markdown-mode "markdown-mode"
   "Major mode for editing Markdown files" t)
(add-to-list 'auto-mode-alist '("\\.markdown\\'" . markdown-mode))
(add-to-list 'auto-mode-alist '("\\.md\\'" . markdown-mode))

(autoload 'gfm-mode "markdown-mode"
   "Major mode for editing GitHub Flavored Markdown files" t)
(add-to-list 'auto-mode-alist '("README\\.md\\'" . gfm-mode))


;; polymode for R markdown
(setq load-path 
  (append (list "~/.emacs.d/elpa/polymode/" "~/.emacs.d/elpa/polymode/modes/")
      load-path))
(require 'poly-R)
(require 'poly-markdown)
(add-to-list 'auto-mode-alist '("\\.Rmd" . poly-markdown+r-mode))


;; ESS for R
;ess-mode configuration
(add-to-list 'load-path "~/.emacs.d/plugins/ess-15.09-1/lisp/") 
(setq inferior-R-program-name "/usr/local/bin/R") 
(setq ess-local-process-name "R") 
(setq ansi-color-for-comint-mode 'filter) 
(setq comint-scroll-to-bottom-on-input t) 
(setq comint-scroll-to-bottom-on-output t) 
(setq comint-move-point-for-output t)
(setq ess-eval-visibly-p nil)
(require 'ess-site)


;; python-mode
(add-to-list 'load-path "~/.emacs.d/plugins/python-mode.el-6.2.2") 
(setq py-install-directory "~/.emacs.d/plugins/python-mode.el-6.2.2/")
(require 'python-mode)
(setq-default py-shell-name "/Library/Frameworks/Python.framework/Versions/2.7/bin/ipython")


;; ACL common-lisp
; This is sample code for starting and specifying defaults to the
; Emacs-Lisp interface.
(push "/Applications/AllegroCLexpress.app/Contents/Resources/eli" load-path)
(load "fi-site-init.el")
;
(setq fi:common-lisp-image-name
    "/Applications/AllegroCLexpress.app/Contents/Resources/alisp")
(setq fi:common-lisp-image-file
    "/Applications/AllegroCLexpress.app/Contents/Resources/alisp.dxl")
(setq fi:common-lisp-directory
    "/Applications/AllegroCLexpress.app/Contents/Resources/")
(defun run-lisp ()
  (interactive)
  (fi:common-lisp "*common-lisp*"
                  "~/desktop"
                  "/Applications/AllegroCLexpress.app/Contents/Resources/alisp"
                  '("+B" "+c")
                  "localhost"
                  "/Applications/AllegroCLexpress.app/Contents/Resources/alisp.dxl"))


;; exec-path-from-shell
;; A GNU Emacs library to ensure environment variables inside Emacs look the same as in the user's shell
;; need install first: M-x package-install-file "PATH of .el file"
(exec-path-from-shell-initialize)
(when (memq window-system '(mac ns))
  (exec-path-from-shell-initialize))


;; LaTeX configuration
;(global-visual-line-mode 1); Proper line wrapping
;(global-hl-line-mode 1); Highlight current row
(show-paren-mode 1); Matches parentheses and such in every mode
(set-fringe-mode '(0 . 0)); Disable fringe because I use visual-line-mode
;(setq inhibit-splash-screen t); Disable splash screen
(setq visible-bell t); Flashes on error
(setq calendar-week-start-day 1); Calender should start on Monday
(add-to-list 'default-frame-alist '(height . 59)); Default frame height.

;;; AUCTeX
;; Customary Customization, p. 1 and 16 in the manual, and http://www.emacswiki.org/emacs/AUCTeX#toc2
(setq TeX-parse-self t); Enable parse on load.
(setq TeX-auto-save t); Enable parse on save.
(setq-default TeX-master nil)

(setq TeX-PDF-mode t); PDF mode (rather than DVI-mode)

(setq ispell-dictionary "english"); Default dictionary. To change do M-x ispell-change-dictionary RET.
(add-hook 'TeX-mode-hook
          (lambda () (TeX-fold-mode 1))); Automatically activate TeX-fold-mode.
(setq LaTeX-babel-hyphen nil); Disable language-specific hyphen insertion.


;; LaTeX-math-mode http://www.gnu.org/s/auctex/manual/auctex/Mathematics.html
(add-hook 'TeX-mode-hook 'LaTeX-math-mode)


;; RefTeX
;; Turn on RefTeX for AUCTeX http://www.gnu.org/s/auctex/manual/reftex/reftex_5.html
(add-hook 'TeX-mode-hook 'turn-on-reftex)


;; LaTeX preview pane
(latex-preview-pane-enable)


;; spell check
(add-to-list 'exec-path "/path/to/Aspell/bin/")
(setq ispell-program-name "aspell")
;(setq ispell-personal-dictionary "C:/path/to/your/.ispell")
(require 'ispell)
(global-set-key (kbd "<f8>") 'ispell-word)
(global-set-key (kbd "C-<f8>") 'flyspell-mode)
